<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
  <meta charset="UTF-8">
  <title>MAIN</title>
  <link rel="stylesheet" href="/css/style.css">
<!--  <link rel="stylesheet" href="/css/bootstrap.css">-->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<!--   Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

</head>
<body>
   <div class="container">
       <div th:replace="~{nav::navf(Home)}"/>
   </div>
  <div class="container">

  </div>



<div class="container">
<!--  <p align="center" th:text="${some}">Admin</p>-->
<!--  <p align="center" th:text="${u.isAdmin()}"> Admin</p>-->
<!--  <p align="center" th:text="${u.isSuperAdmin()}">Super Admin</p>-->
</div>

<br>
<div class="container">
  <form method="post" enctype="multipart/form-data" class="form-inline">
    <div class="form-row">
      <input type="text" name="text" placeholder="Put your message here" class="form-control mr-2">
      <input type="text" name="tag" placeholder="tag" class="form-control mr-2">
      <input type="file" name="file" class="form-control">
      <input type="hidden"
             th:name="${_csrf.parameterName}"
             th:value="${_csrf.token}" />
      <button type="submit" class="btn btn-primary ml-2">Send</button>
    </div>
  </form>
  <br>
  <div align="center">
    <form method="get" action="/main" class="form-inline">
      <input type="text" name="filter">
      <button type="submit" class="btn btn-warning ml-2">Find By teg</button>
    </form>
  </div>
  <br>
  <div align="center" class="card-columns">
    <ul>
      <th:block th:each="message : ${messages}">
        <div class="card">
          <li th:utext="${message.getText()}+' Teg = '+${message.getTag()}+' - '+${#dates.format(message.getDateMessage(), 'dd/MM/yyyy')}">AAA</li>
<!--            <a class="nav-link" th:href="@{'/myMes/' + ${message.author}}">Author</a>-->
            <a class="nav-link" th:href="@{'/user/userMes/' + ${message.author.id}}"><p th:text="' Author - '+${message.AuthorName}">Author</p></a>

          <div th:if="${message.filename!=null}">
<!--            <img src="'/img/' + ${message.filename}"/>-->
            <img th:src="@{/img/{filename}(filename = ${message.filename})}" width="189" height="255" alt="lorem">
          </div>
        </div>
      </th:block>
    </ul>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>


<!--<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>-->
</body>
</html>